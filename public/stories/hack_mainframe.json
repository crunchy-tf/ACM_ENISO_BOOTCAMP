{
  "id": "hack_mainframe",
  "title": "Hack the Mainframe",
  "description": "★ CLASSIFIED OPERATION - CLEARANCE LEVEL: ORION ★\n\nYou've been booted into the Orion training sandbox. Your mission: Infiltrate Omega Corp's systems and expose their illegal surveillance operation. Every command you execute will be validated based on its results - not what you type, but what you achieve.\n\nRemember: Multiple solutions exist for every challenge. Think creatively. Master the terminal. Become a shadow.\n\nWelcome to Operation GHOST.",
  "theme": "cyberpunk",
  "prelude": {
    "title": "ORION TRAINING SANDBOX",
    "text": "You've been booted into the Orion sandbox. Agent Kira's voice crackles through your earpiece:\n\n'Ghost, this is a simulated mainframe environment. Follow the missions carefully. Do NOT run destructive commands without confirmation. Your training begins now.'\n\nThe terminal screen flickers to life...",
    "character": "Agent Kira"
  },
  "epilogue": {
    "title": "OPERATION COMPLETE",
    "text": "Agent Kira: 'Clean job, Ghost. Project Alpha has been secured and uploaded to our field agent. The evidence you've gathered will expose Omega Corp's illegal surveillance network. Orion Command will take it from here.\n\nYou've successfully completed the Hack the Mainframe simulation. Your terminal skills are now mission-ready.'\n\n🎖️ MISSION DEBRIEFING:\n- All objectives completed\n- Evidence successfully exfiltrated\n- Operational security maintained\n- Zero traces left behind\n\nWelcome to Orion, operative.",
    "character": "Agent Kira"
  },
  "initialFileSystem": {
    "root": {
      "home": {
        "type": "directory",
        "name": "home",
        "permissions": "rwxr-xr-x",
        "owner": "root",
        "children": {
          "student": {
            "type": "directory",
            "name": "student",
            "permissions": "rwxr-xr-x",
            "owner": "student",
            "children": {
              "README.md": {
                "type": "file",
                "name": "README.md",
                "permissions": "rw-r--r--",
                "owner": "student",
                "content": "ORION SANDBOX - OPERATION BRIEFING\n===================================\n\nCLASSIFIED - AGENT EYES ONLY\n\nAgent Codename: GHOST\nMission: Infiltrate Omega Corp mainframe\nObjective: Extract evidence of illegal surveillance\n\nMISSION PARAMETERS:\n1. Navigate the filesystem\n2. Locate classified documents\n3. Collect evidence in secure staging area\n4. Transfer data to field agent\n5. Cover your tracks\n\nINITIAL INTEL:\n- Target: Omega Corp internal systems\n- Key files located in /home/student/projects\n- Evidence of PROJECT_ALPHA operations\n- Domain: omega-corp.com\n- Remote agent: omega_agent@remote-server\n\nRULES OF ENGAGEMENT:\n- Use sudo for privileged operations\n- Create workspace: /home/student/temp_exfil\n- Do NOT run destructive commands without confirmation\n- Follow mission objectives in sequence\n\nGood hunting, operative.\n- Agent Kira"
              },
              "projects": {
                "type": "directory",
                "name": "projects",
                "permissions": "rwxr-xr-x",
                "owner": "student",
                "children": {
                  "project_alpha.txt": {
                    "type": "file",
                    "name": "project_alpha.txt",
                    "permissions": "rw-r--r--",
                    "owner": "student",
                    "content": "PROJECT ALPHA - SURVEILLANCE INITIATIVE\n\nProject Lead: Director Harrison\nStatus: ACTIVE\nClearance: TOP SECRET\n\nOBJECTIVE:\nDeploy mass surveillance across 15 major cities.\n\nTECHNICAL SPECS:\n- Data Collection Points: 10,000+\n- Daily Data Volume: 50TB\n- Storage: omega-corp.com/data-lake\n\nCREDENTIALS:\nPROJECT_ALPHA_SECRET_KEY=OMEGA-2024-ALPHA-7X9K\nAPI_ENDPOINT=https://api.omega-corp.com/v2/surveillance\n\nTARGETS:\n- Communications metadata\n- Location tracking\n- Financial transactions\n\nDEPLOYMENT SERVERS:\n192.168.50.10 - Primary collection\n192.168.50.11 - Backup storage\nomega-corp.com - Command & Control\n\nNOTE: This operation violates multiple privacy laws.\nEvidence must be secured for whistleblower action."
                  },
                  "network_log.txt": {
                    "type": "file",
                    "name": "network_log.txt",
                    "permissions": "rw-r--r--",
                    "owner": "student",
                    "mtime": 1696147200,
                    "content": "OMEGA CORP NETWORK ACTIVITY LOG\n\n2024-10-01 08:15:23 | CONNECTION | 192.168.50.10 -> omega-corp.com | PORT 443\n2024-10-01 08:15:45 | DATA_TRANSFER | 2.3GB uploaded\n2024-10-01 09:22:11 | CONNECTION | 192.168.50.11 -> backup.omega-corp.com\n2024-10-01 10:45:33 | ALERT | Unusual traffic pattern detected\n2024-10-01 11:20:15 | CONNECTION | 192.168.50.10 -> agency.local | PORT 22\n2024-10-01 13:45:02 | DATA_TRANSFER | 5.1GB downloaded\n2024-10-01 14:12:33 | CONNECTION | 10.0.0.50 -> omega-corp.com | PORT 443\n2024-10-01 15:30:21 | DISCONNECT | 192.168.50.11 -> backup.omega-corp.com\n2024-10-01 16:45:11 | CONNECTION | remote-server -> omega-corp.com | PORT 8080"
                  },
                  "old_project_beta.txt": {
                    "type": "file",
                    "name": "old_project_beta.txt",
                    "permissions": "rw-r--r--",
                    "owner": "student",
                    "content": "PROJECT BETA - DEPRECATED\n\nThis project has been discontinued.\nAll resources moved to PROJECT ALPHA.\n\nStatus: ARCHIVED\nDate Archived: 2024-08-15"
                  }
                }
              },
              "old_temp": {
                "type": "directory",
                "name": "old_temp",
                "permissions": "rwxr-xr-x",
                "owner": "student",
                "children": {}
              }
            }
          }
        }
      },
      "etc": {
        "type": "directory",
        "name": "etc",
        "permissions": "rwxr-xr-x",
        "owner": "root",
        "children": {
          "secure.conf": {
            "type": "file",
            "name": "secure.conf",
            "permissions": "rw-------",
            "owner": "root",
            "content": "# ORION SECURITY CONFIGURATION\n# CLASSIFIED - ROOT ACCESS ONLY\n\nCLEARANCE_CODE=ORION-ALPHA-9X7\nSECURITY_LEVEL=MAXIMUM\nACCESS_PROTOCOL=SUDO_REQUIRED\nENCRYPTION=AES-256\n\n# Authorized personnel only\n# Unauthorized access will be logged"
          },
          "hosts": {
            "type": "file",
            "name": "hosts",
            "permissions": "rw-r--r--",
            "owner": "root",
            "content": "127.0.0.1       localhost\n192.168.50.10   omega-corp.com\n192.168.50.11   backup.omega-corp.com\n10.0.1.100      agency.local\n10.0.2.50       remote-server"
          }
        }
      },
      "logs": {
        "type": "directory",
        "name": "logs",
        "permissions": "rwxr-xr-x",
        "owner": "root",
        "children": {
          "sys.log": {
            "type": "file",
            "name": "sys.log",
            "permissions": "rw-r--r--",
            "owner": "root",
            "mtime": 1695542400,
            "content": "[2024-10-01 00:15:23] SYSTEM BOOT - Kernel 5.15.0-orion\n[2024-10-01 00:15:24] Loading modules... OK\n[2024-10-01 00:15:25] Network interface eth0 UP - 192.168.1.100\n[2024-10-01 00:15:26] SSH daemon started on port 22\n[2024-10-01 00:15:27] Web server started on port 80\n[2024-10-01 00:15:28] Database service started on port 5432\n[2024-10-01 08:30:11] User 'student' logged in from 127.0.0.1\n[2024-10-01 08:45:22] sudo: student: command executed: cat /etc/secure.conf\n[2024-10-01 09:15:33] Network activity spike detected - 192.168.50.10\n[2024-10-01 09:30:44] Firewall: blocked connection attempt from 203.0.113.5\n[2024-10-01 10:00:11] Backup process started - /var/backup\n[2024-10-01 10:30:22] Backup completed successfully - 25.3GB\n[2024-10-01 11:15:33] System update available - security patches\n[2024-10-01 12:00:44] Cron job executed: /usr/bin/cleanup.sh\n[2024-10-01 12:30:55] Disk usage warning: /var at 85%\n[2024-10-01 13:00:11] User 'omega_agent' connected via SSH from remote-server\n[2024-10-01 13:30:22] File transfer initiated: exfil_log.txt -> remote-server\n[2024-10-01 14:00:33] File transfer completed successfully\n[2024-10-01 14:30:44] Connection closed: omega_agent@remote-server\n[2024-10-01 15:00:55] System health check: ALL SYSTEMS NOMINAL\n[2024-10-01 15:30:11] Memory usage: 4.2GB / 16GB (26%)\n[2024-10-01 16:00:22] CPU load average: 0.45, 0.52, 0.48\n[2024-10-01 16:30:33] Network throughput: 125 Mbps (incoming), 85 Mbps (outgoing)\n[2024-10-01 17:00:44] Security scan completed: No threats detected\n[2024-10-01 17:30:55] Service status: All services running normally\n[2024-10-01 18:00:11] Log rotation completed - archived old logs\n[2024-10-01 18:30:22] Automated backup scheduled for 02:00 tomorrow\n[2024-10-01 19:00:33] System uptime: 19 hours, 45 minutes\n[2024-10-01 19:30:44] Active connections: 12 established, 3 listening\n[2024-10-01 20:00:55] End of log - system running smoothly"
          },
          "access.log": {
            "type": "file",
            "name": "access.log",
            "permissions": "rw-r--r--",
            "owner": "root",
            "mtime": 1694937600,
            "content": "192.168.1.100 - student [01/Oct/2024:08:30:11] \"GET /api/status HTTP/1.1\" 200 1234\n192.168.1.100 - student [01/Oct/2024:08:45:22] \"POST /api/auth HTTP/1.1\" 200 567\n192.168.50.10 - system [01/Oct/2024:09:15:33] \"GET /data/sync HTTP/1.1\" 200 5242880\n10.0.2.50 - omega_agent [01/Oct/2024:13:00:11] \"POST /upload HTTP/1.1\" 201 1024\n10.0.2.50 - omega_agent [01/Oct/2024:13:30:22] \"GET /download/exfil_log.txt HTTP/1.1\" 200 2048"
          },
          "error.log": {
            "type": "file",
            "name": "error.log",
            "permissions": "rw-r--r--",
            "owner": "root",
            "mtime": 1695456000,
            "content": "[WARN] 2024-10-01 09:30:44 - Suspicious connection attempt blocked from 203.0.113.5\n[ERROR] 2024-10-01 12:30:55 - Disk space warning: /var partition at 85% capacity\n[INFO] 2024-10-01 15:00:55 - Security scan completed with no threats"
          }
        }
      },
      "remotes": {
        "type": "directory",
        "name": "remotes",
        "permissions": "rwxr-xr-x",
        "owner": "root",
        "children": {
          "omega_agent": {
            "type": "directory",
            "name": "omega_agent",
            "permissions": "rwxr-xr-x",
            "owner": "root",
            "children": {
              "filesystem": {
                "type": "directory",
                "name": "filesystem",
                "permissions": "rwxr-xr-x",
                "owner": "root",
                "children": {
                  "home": {
                    "type": "directory",
                    "name": "home",
                    "permissions": "rwxr-xr-x",
                    "owner": "root",
                    "children": {
                      "omega": {
                        "type": "directory",
                        "name": "omega",
                        "permissions": "rwxr-xr-x",
                        "owner": "omega_agent",
                        "children": {
                          "incoming": {
                            "type": "directory",
                            "name": "incoming",
                            "permissions": "rwxr-xr-x",
                            "owner": "omega_agent",
                            "children": {}
                          },
                          "README.txt": {
                            "type": "file",
                            "name": "README.txt",
                            "permissions": "rw-r--r--",
                            "owner": "omega_agent",
                            "content": "FIELD AGENT SECURE DROP\n\nAgent: omega_agent\nLocation: Remote Server (Classified)\nStatus: ACTIVE\n\nUpload evidence files to /home/omega/incoming/\n\nAll transfers are encrypted and logged.\nMission critical files only.\n\n- Orion Command"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "missions": [
    {
      "id": "mission_1",
      "title": "ACT I - Mission 1: Briefing & Orientation",
      "act": 1,
      "actTitle": "Entry & Privilege",
      "story": "Agent Kira: 'Welcome, operative. You're now connected to the Orion sandbox. Your first task is simple: read your briefing and prepare a workspace. Show me you understand the basics of terminal navigation.'",
      "tasks": [
        {
          "id": "task_1_1",
          "description": "Read the briefing file (output must show mission details)",
          "hints": [
            {
              "level": 1,
              "text": "Use a command that prints file contents to the screen."
            },
            {
              "level": 2,
              "text": "The syntax is: cat <filename>"
            },
            {
              "level": 3,
              "text": "Type: cat README.md"
            }
          ],
          "outputPattern": "PROJECT_ALPHA|GHOST|infiltrate|omega-corp",
          "outputCheck": "contains",
          "outputCheckParams": [
            "PROJECT_ALPHA",
            "GHOST"
          ]
        },
        {
          "id": "task_1_2",
          "description": "Create workspace directory temp_exfil (verify it exists in listing)",
          "hints": [
            {
              "level": 1,
              "text": "Make a directory for collected files, then list to confirm it was created."
            },
            {
              "level": 2,
              "text": "Use: mkdir <directory_name> and then ls to verify"
            },
            {
              "level": 3,
              "text": "Type: mkdir temp_exfil && ls"
            }
          ],
          "outputPattern": "temp_exfil",
          "outputCheck": "dirExists",
          "outputCheckParams": "/home/student/temp_exfil"
        }
      ],
      "onComplete": "✅ Mission 1 Complete! Agent Kira: 'Good start, Ghost. Workspace created. Now let's test your privileges.'"
    },
    {
      "id": "mission_2",
      "title": "ACT I - Mission 2: Privilege Check",
      "act": 1,
      "actTitle": "Entry & Privilege",
      "story": "Agent Kira: 'Some system files are locked down. You need to escalate privileges to access them. This is where sudo comes in - your key to root access.'",
      "tasks": [
        {
          "id": "task_2_1",
          "description": "List /etc directory contents (try without sudo first to see permission denial)",
          "hints": [
            {
              "level": 1,
              "text": "Try listing /etc first without sudo, then with sudo to see the difference."
            },
            {
              "level": 2,
              "text": "Prefix your command with 'sudo' to run as root."
            },
            {
              "level": 3,
              "text": "Type: sudo ls /etc"
            }
          ],
          "outputPattern": "secure\\.conf|hosts",
          "outputCheck": "sudoExecuted",
          "outputCheckParams": null
        },
        {
          "id": "task_2_2",
          "description": "Read /etc/secure.conf with elevated privileges (output must show clearance code)",
          "hints": [
            {
              "level": 1,
              "text": "This file requires root access. Use sudo to read it."
            },
            {
              "level": 2,
              "text": "Combine sudo with the cat command."
            },
            {
              "level": 3,
              "text": "Type: sudo cat /etc/secure.conf"
            }
          ],
          "outputPattern": "ORION-ALPHA-9X7|CLEARANCE_CODE",
          "outputCheck": "contains",
          "outputCheckParams": "CLEARANCE_CODE"
        }
      ],
      "onComplete": "✅ Mission 2 Complete! Clearance code acquired! Agent Kira: 'Perfect. You now have the security credentials. Time to navigate the filesystem.'"
    },
    {
      "id": "mission_3",
      "title": "ACT II - Mission 3: Where Am I?",
      "act": 2,
      "actTitle": "Navigate & Inspect",
      "story": "Agent Kira: 'Before you can hack anything, you need to know where you are in the filesystem. Master navigation - it's the foundation of everything.'",
      "tasks": [
        {
          "id": "task_3_1",
          "description": "Print your current working directory (must show /home/student)",
          "hints": [
            {
              "level": 1,
              "text": "There's a command that prints your working directory."
            },
            {
              "level": 2,
              "text": "It's a three-letter command."
            },
            {
              "level": 3,
              "text": "Type: pwd"
            }
          ],
          "outputPattern": "/home/student$",
          "outputCheck": "contains",
          "outputCheckParams": "/home/student"
        },
        {
          "id": "task_3_2",
          "description": "List files in your home directory (output must show 'projects')",
          "hints": [
            {
              "level": 1,
              "text": "List the contents of the current directory."
            },
            {
              "level": 2,
              "text": "Try using the ls command with the -la flag to see more details."
            },
            {
              "level": 3,
              "text": "Type: ls -la"
            }
          ],
          "outputPattern": "projects",
          "outputCheck": "contains",
          "outputCheckParams": "projects"
        },
        {
          "id": "task_3_3",
          "description": "Change directory to projects (pwd must confirm /home/student/projects)",
          "hints": [
            {
              "level": 1,
              "text": "Change directory to 'projects' and verify your location."
            },
            {
              "level": 2,
              "text": "Use cd to change directories, then pwd to confirm."
            },
            {
              "level": 3,
              "text": "Type: cd projects && pwd"
            }
          ],
          "outputPattern": "/home/student/projects$",
          "outputCheck": "contains",
          "outputCheckParams": "/home/student/projects"
        }
      ],
      "onComplete": "✅ Mission 3 Complete! Navigation mastered. Agent Kira: 'Excellent. You're in the projects folder. Now read those classified files.'"
    },
    {
      "id": "mission_4",
      "title": "ACT II - Mission 4: Open Files",
      "act": 2,
      "actTitle": "Navigate & Inspect",
      "story": "Agent Kira: 'Time to search the project folder. Look for anything suspicious. PROJECT ALPHA documentation should be here.'",
      "tasks": [
        {
          "id": "task_4_1",
          "description": "View project_alpha.txt (output must contain SECRET_KEY)",
          "hints": [
            {
              "level": 1,
              "text": "Display the contents of project_alpha.txt."
            },
            {
              "level": 2,
              "text": "Use the cat command to print file contents."
            },
            {
              "level": 3,
              "text": "Type: cat project_alpha.txt"
            }
          ],
          "outputPattern": "PROJECT_ALPHA_SECRET_KEY|OMEGA-2024-ALPHA",
          "outputCheck": "contains",
          "outputCheckParams": "SECRET_KEY"
        },
        {
          "id": "task_4_2",
          "description": "Inspect network_log.txt (output must show CONNECTION entries)",
          "hints": [
            {
              "level": 1,
              "text": "Read the network log file to see connection history."
            },
            {
              "level": 2,
              "text": "Use cat to display network_log.txt"
            },
            {
              "level": 3,
              "text": "Type: cat network_log.txt"
            }
          ],
          "outputPattern": "CONNECTION|192\\.168",
          "outputCheck": "contains",
          "outputCheckParams": "CONNECTION"
        }
      ],
      "onComplete": "✅ Mission 4 Complete! Evidence located! Agent Kira: 'Good work. Now let's use grep to search for specific patterns in these files.'"
    },
    {
      "id": "mission_5",
      "title": "ACT II - Mission 5: Search Inside Files",
      "act": 2,
      "actTitle": "Navigate & Inspect",
      "story": "Agent Kira: 'Reading entire files is slow. Use grep to find exactly what you need. Search for the secret key and domain references.'",
      "tasks": [
        {
          "id": "task_5_1",
          "description": "Search for SECRET_KEY in project files (output must show the key)",
          "hints": [
            {
              "level": 1,
              "text": "Use grep to search for 'SECRET_KEY' pattern in all files."
            },
            {
              "level": 2,
              "text": "Try: grep 'pattern' * to search all files in the current directory."
            },
            {
              "level": 3,
              "text": "Type: grep SECRET_KEY *"
            }
          ],
          "outputPattern": "SECRET_KEY.*OMEGA|project_alpha.*SECRET",
          "outputCheck": "grepFound",
          "outputCheckParams": null
        },
        {
          "id": "task_5_2",
          "description": "Search for omega-corp.com domain (output must show domain references)",
          "hints": [
            {
              "level": 1,
              "text": "Search for 'omega-corp.com' across all files."
            },
            {
              "level": 2,
              "text": "Use grep with the domain name as the search pattern."
            },
            {
              "level": 3,
              "text": "Type: grep omega-corp.com *"
            }
          ],
          "outputPattern": "omega-corp\\.com",
          "outputCheck": "contains",
          "outputCheckParams": "omega-corp.com"
        }
      ],
      "onComplete": "✅ Mission 5 Complete! Pattern matching mastered! Agent Kira: 'Excellent. You've found the key evidence. Now use find to locate files system-wide.'"
    },
    {
      "id": "mission_6",
      "title": "ACT II - Mission 6: Scan Filesystem",
      "act": 2,
      "actTitle": "Navigate & Inspect",
      "story": "Agent Kira: 'Sometimes you need to search the entire filesystem for files. The find command is your scanner - it can locate anything, anywhere.'",
      "tasks": [
        {
          "id": "task_6_1",
          "description": "Find project_alpha.txt anywhere on the system (output must show the path)",
          "hints": [
            {
              "level": 1,
              "text": "Use find to search for project_alpha.txt starting from the root directory."
            },
            {
              "level": 2,
              "text": "Syntax: find <path> -name '<filename>'"
            },
            {
              "level": 3,
              "text": "Type: find / -name project_alpha.txt"
            }
          ],
          "outputPattern": "/.*project_alpha\\.txt",
          "outputCheck": "contains",
          "outputCheckParams": "project_alpha.txt"
        },
        {
          "id": "task_6_2",
          "description": "Find all .log files in /logs (output must show log files)",
          "hints": [
            {
              "level": 1,
              "text": "Search for all files ending in .log in the /logs directory."
            },
            {
              "level": 2,
              "text": "Use wildcards in your search pattern: *.log"
            },
            {
              "level": 3,
              "text": "Type: find /logs -name '*.log'"
            }
          ],
          "outputPattern": "\\.log|sys\\.log|access\\.log",
          "outputCheck": "contains",
          "outputCheckParams": ".log"
        }
      ],
      "onComplete": "✅ Mission 6 Complete! Filesystem scan successful! Agent Kira: 'Perfect. Now organize your evidence - time for file operations.'"
    },
    {
      "id": "mission_7",
      "title": "ACT III - Mission 7: Prepare Exfil Workspace",
      "act": 3,
      "actTitle": "Staging & Organizing",
      "story": "Agent Kira: 'Create a secure staging area and organize the evidence. Copy files, rename logs, and clean up old projects. Attention to detail is critical here.'",
      "tasks": [
        {
          "id": "task_7_1",
          "description": "Ensure temp_exfil directory exists (create if needed, then list to verify)",
          "hints": [
            {
              "level": 1,
              "text": "Make sure temp_exfil exists in your home directory."
            },
            {
              "level": 2,
              "text": "Navigate home with: cd ~ then check with ls"
            },
            {
              "level": 3,
              "text": "Type: cd ~ && mkdir -p temp_exfil && ls"
            }
          ],
          "outputPattern": "temp_exfil",
          "outputCheck": "dirExists",
          "outputCheckParams": "/home/student/temp_exfil"
        },
        {
          "id": "task_7_2",
          "description": "Remove the empty old_temp directory (use rmdir)",
          "hints": [
            {
              "level": 1,
              "text": "Remove the old_temp directory using rmdir (only works on empty directories)."
            },
            {
              "level": 2,
              "text": "Use: rmdir <directory_name>"
            },
            {
              "level": 3,
              "text": "Type: rmdir old_temp"
            }
          ],
          "outputPattern": "old_temp.*removed|removed.*old_temp|^$",
          "outputCheck": "fileDeleted",
          "outputCheckParams": "/home/student/old_temp"
        },
        {
          "id": "task_7_3",
          "description": "Copy project_alpha.txt to temp_exfil (verify with ls)",
          "hints": [
            {
              "level": 1,
              "text": "Copy project_alpha.txt from projects to temp_exfil, then list to confirm."
            },
            {
              "level": 2,
              "text": "Syntax: cp <source> <destination>"
            },
            {
              "level": 3,
              "text": "Type: cp projects/project_alpha.txt temp_exfil/ && ls temp_exfil"
            }
          ],
          "outputPattern": "project_alpha",
          "outputCheck": "fileCopied",
          "outputCheckParams": {
            "source": "/home/student/projects/project_alpha.txt",
            "dest": "/home/student/temp_exfil/project_alpha.txt"
          }
        },
        {
          "id": "task_7_4",
          "description": "Rename network_log.txt to network_analysis.txt in projects (verify with ls)",
          "hints": [
            {
              "level": 1,
              "text": "Rename network_log.txt to network_analysis.txt and verify."
            },
            {
              "level": 2,
              "text": "Use mv to move/rename: mv <old_name> <new_name>"
            },
            {
              "level": 3,
              "text": "Type: mv projects/network_log.txt projects/network_analysis.txt && ls projects"
            }
          ],
          "outputPattern": "network_analysis",
          "outputCheck": "fileExists",
          "outputCheckParams": "/home/student/projects/network_analysis.txt"
        },
        {
          "id": "task_7_5",
          "description": "Delete old_project_beta.txt from projects (verify it's gone with ls)",
          "hints": [
            {
              "level": 1,
              "text": "Remove old_project_beta.txt from the projects directory."
            },
            {
              "level": 2,
              "text": "Use: rm <filename>"
            },
            {
              "level": 3,
              "text": "Type: rm projects/old_project_beta.txt && ls projects"
            }
          ],
          "outputPattern": "(?!.*old_project_beta)",
          "outputCheck": "fileDeleted",
          "outputCheckParams": "/home/student/projects/old_project_beta.txt"
        }
      ],
      "onComplete": "✅ Mission 7 Complete! Workspace organized! Agent Kira: 'Clean work. Now create your exfil log file.'"
    },
    {
      "id": "mission_8",
      "title": "ACT III - Mission 8: Touch & Timestamp",
      "act": 3,
      "actTitle": "Staging & Organizing",
      "story": "Agent Kira: 'Create an exfil log file for your notes and evidence. We need timestamps for the operation record.'",
      "tasks": [
        {
          "id": "task_8_1",
          "description": "Create exfil_log.txt in temp_exfil (use touch, then verify with ls -l)",
          "hints": [
            {
              "level": 1,
              "text": "Use touch to create a new file, then list with details to see the timestamp."
            },
            {
              "level": 2,
              "text": "Syntax: touch <filename> then ls -l to verify"
            },
            {
              "level": 3,
              "text": "Type: touch temp_exfil/exfil_log.txt && ls -l temp_exfil"
            }
          ],
          "outputPattern": "exfil_log\\.txt",
          "outputCheck": "fileExists",
          "outputCheckParams": "/home/student/temp_exfil/exfil_log.txt"
        }
      ],
      "onComplete": "✅ Mission 8 Complete! Log file created! Agent Kira: 'Good. Now let's analyze some large log files - time to learn file viewers.'"
    },
    {
      "id": "mission_9",
      "title": "ACT IV - Mission 9: Inspect Large Files",
      "act": 4,
      "actTitle": "Analyze & Read",
      "story": "Agent Kira: 'System logs can be massive. You can't cat everything - use specialized viewers and filters to inspect specific parts.'",
      "tasks": [
        {
          "id": "task_9_1",
          "description": "View network_analysis.txt with less (will open modal viewer)",
          "hints": [
            {
              "level": 1,
              "text": "Use less to view the file interactively. Press 'q' to quit when done."
            },
            {
              "level": 2,
              "text": "Syntax: less <filename>"
            },
            {
              "level": 3,
              "text": "Type: less projects/network_analysis.txt"
            }
          ],
          "outputPattern": "OMEGA CORP NETWORK ACTIVITY LOG|CONNECTION.*192\\.168",
          "outputCheck": "contains",
          "outputCheckParams": "CONNECTION"
        },
        {
          "id": "task_9_2",
          "description": "Show first 10 lines of /logs/sys.log (use head)",
          "hints": [
            {
              "level": 1,
              "text": "Use head to display the first few lines of a file."
            },
            {
              "level": 2,
              "text": "Syntax: head -n <number> <filename>"
            },
            {
              "level": 3,
              "text": "Type: head -n 10 /logs/sys.log"
            }
          ],
          "outputPattern": "SYSTEM BOOT|Kernel|Loading modules",
          "outputCheck": "lineCount",
          "outputCheckParams": {
            "max": 15
          }
        },
        {
          "id": "task_9_3",
          "description": "Show last 20 lines of /logs/sys.log (use tail)",
          "hints": [
            {
              "level": 1,
              "text": "Use tail to display the last lines of a file."
            },
            {
              "level": 2,
              "text": "Syntax: tail -n <number> <filename>"
            },
            {
              "level": 3,
              "text": "Type: tail -n 20 /logs/sys.log"
            }
          ],
          "outputPattern": "Active connections|uptime|End of log",
          "outputCheck": "lineCount",
          "outputCheckParams": {
            "min": 15
          }
        }
      ],
      "onComplete": "✅ Mission 9 Complete! File analysis mastered! Agent Kira: 'Perfect. Now test network connectivity - time for recon.'"
    },
    {
      "id": "mission_10",
      "title": "ACT V - Mission 10: Ping & Fetch",
      "act": 5,
      "actTitle": "Network Recon",
      "story": "Agent Kira: 'Before transferring data, confirm network connectivity. Ping the agency server and retrieve the remote briefing.'",
      "tasks": [
        {
          "id": "task_10_1",
          "description": "Ping agency.local 4 times (output must show RTT stats)",
          "hints": [
            {
              "level": 1,
              "text": "Use ping with the -c flag to specify count."
            },
            {
              "level": 2,
              "text": "Syntax: ping -c <count> <hostname>"
            },
            {
              "level": 3,
              "text": "Type: ping -c 4 agency.local"
            }
          ],
          "outputPattern": "bytes from.*time=",
          "outputCheck": "pingSuccess",
          "outputCheckParams": null
        },
        {
          "id": "task_10_2",
          "description": "Use curl to get briefing from agency.local (output must show response)",
          "hints": [
            {
              "level": 1,
              "text": "Use curl to make an HTTP request to the agency server."
            },
            {
              "level": 2,
              "text": "Syntax: curl http://<host>/<path>"
            },
            {
              "level": 3,
              "text": "Type: curl http://agency.local/briefing"
            }
          ],
          "outputPattern": "briefing|status|mission|intel",
          "outputCheck": "httpSuccess",
          "outputCheckParams": null
        },
        {
          "id": "task_10_3",
          "description": "Download briefing.txt with wget (verify file was created with ls)",
          "hints": [
            {
              "level": 1,
              "text": "Use wget to download a file from a URL."
            },
            {
              "level": 2,
              "text": "Syntax: wget <url>"
            },
            {
              "level": 3,
              "text": "Type: wget http://agency.local/resources/briefing.txt && ls"
            }
          ],
          "outputPattern": "briefing\\.txt|saved|downloaded",
          "outputCheck": "fileExists",
          "outputCheckParams": "/home/student/briefing.txt"
        }
      ],
      "onComplete": "✅ Mission 10 Complete! Network connectivity confirmed! Agent Kira: 'Good. Now map the network infrastructure.'"
    },
    {
      "id": "mission_11",
      "title": "ACT V - Mission 11: Network Introspection",
      "act": 5,
      "actTitle": "Network Recon",
      "story": "Agent Kira: 'Map open ports and DNS records. Know who's talking to whom. This is network intelligence gathering.'",
      "tasks": [
        {
          "id": "task_11_1",
          "description": "Show active connections and listening ports (use netstat -tuln)",
          "hints": [
            {
              "level": 1,
              "text": "Use netstat to show network connections and listening ports."
            },
            {
              "level": 2,
              "text": "The -tuln flags show TCP, UDP, listening, and numeric output."
            },
            {
              "level": 3,
              "text": "Type: netstat -tuln"
            }
          ],
          "outputPattern": "tcp|udp|LISTEN|port|22|80",
          "outputCheck": "netstatListening",
          "outputCheckParams": null
        },
        {
          "id": "task_11_2",
          "description": "Resolve omega-corp.com IP address (use dig or nslookup)",
          "hints": [
            {
              "level": 1,
              "text": "Use dig or nslookup to resolve a domain to its IP address."
            },
            {
              "level": 2,
              "text": "Try: dig <domain> or nslookup <domain>"
            },
            {
              "level": 3,
              "text": "Type: dig omega-corp.com"
            }
          ],
          "outputPattern": "omega-corp\\.com|192\\.168\\.50\\.10",
          "outputCheck": "digResolved",
          "outputCheckParams": null
        },
        {
          "id": "task_11_3",
          "description": "Show network interfaces (use ifconfig or ip addr)",
          "hints": [
            {
              "level": 1,
              "text": "Use ifconfig or ip addr to display network interface configuration."
            },
            {
              "level": 2,
              "text": "Modern systems prefer: ip addr show"
            },
            {
              "level": 3,
              "text": "Type: ifconfig"
            }
          ],
          "outputPattern": "eth0|inet|addr|192\\.168",
          "outputCheck": "containsIP",
          "outputCheckParams": null
        }
      ],
      "onComplete": "✅ Mission 11 Complete! Network mapped! Agent Kira: 'Excellent recon. Now connect to the field agent and transfer the evidence.'"
    },
    {
      "id": "mission_12",
      "title": "ACT VI - Mission 12: Connect to Agent",
      "act": 6,
      "actTitle": "Remote Transfer",
      "story": "Agent Kira: 'Time to exfiltrate. Connect to field agent omega_agent on the remote server and transfer your evidence package.'",
      "tasks": [
        {
          "id": "task_12_1",
          "description": "SSH to omega_agent@remote-server (will open remote terminal session)",
          "hints": [
            {
              "level": 1,
              "text": "Use ssh to connect to a remote system."
            },
            {
              "level": 2,
              "text": "Syntax: ssh <user>@<host>"
            },
            {
              "level": 3,
              "text": "Type: ssh omega_agent@remote-server"
            }
          ],
          "outputPattern": "omega_agent@remote-server.*Connection established",
          "outputCheck": "sshConnected",
          "outputCheckParams": null
        },
        {
          "id": "task_12_2",
          "description": "Transfer exfil_log.txt to remote server using scp (verify file arrives)",
          "hints": [
            {
              "level": 1,
              "text": "Use scp to securely copy files to a remote system."
            },
            {
              "level": 2,
              "text": "Syntax: scp <local_file> <user>@<host>:<remote_path>"
            },
            {
              "level": 3,
              "text": "Type: scp temp_exfil/exfil_log.txt omega_agent@remote-server:/home/omega/incoming/"
            }
          ],
          "outputPattern": "exfil_log.*100%",
          "outputCheck": "remoteFileExists",
          "outputCheckParams": {
            "user": "omega_agent",
            "path": "/home/omega/incoming/exfil_log.txt"
          }
        }
      ],
      "onComplete": "✅ Mission 12 Complete! File transferred! Agent Kira: 'Evidence received on the remote server. Now document your operation.'"
    },
    {
      "id": "mission_13",
      "title": "ACT VII - Mission 13: Write the Report",
      "act": 7,
      "actTitle": "Finalize Report",
      "story": "Agent Kira: 'Log your success and append environment context. HQ needs to know the operational conditions. Master I/O redirection.'",
      "tasks": [
        {
          "id": "task_13_1",
          "description": "Write 'Mission Success' to exfil_log.txt (use echo with > redirection, verify with cat)",
          "hints": [
            {
              "level": 1,
              "text": "Use echo with > to overwrite a file, then cat to verify."
            },
            {
              "level": 2,
              "text": "The > operator redirects output to a file (overwrites)."
            },
            {
              "level": 3,
              "text": "Type: echo 'Mission Success' > temp_exfil/exfil_log.txt && cat temp_exfil/exfil_log.txt"
            }
          ],
          "outputPattern": "Mission Success",
          "outputCheck": "fileContains",
          "outputCheckParams": {
            "path": "/home/student/temp_exfil/exfil_log.txt",
            "text": "Mission Success"
          }
        },
        {
          "id": "task_13_2",
          "description": "Append environment variables to the log (use env with >> redirection)",
          "hints": [
            {
              "level": 1,
              "text": "Use env with >> to append to a file, then cat to verify."
            },
            {
              "level": 2,
              "text": "The >> operator appends to a file without overwriting."
            },
            {
              "level": 3,
              "text": "Type: env >> temp_exfil/exfil_log.txt && cat temp_exfil/exfil_log.txt"
            }
          ],
          "outputPattern": "USER|HOME|PATH|Mission Success",
          "outputCheck": "fileContains",
          "outputCheckParams": {
            "path": "/home/student/temp_exfil/exfil_log.txt",
            "text": "USER="
          }
        },
        {
          "id": "task_13_3",
          "description": "Append multi-line note using heredoc (use cat <<EOF >> file)",
          "hints": [
            {
              "level": 1,
              "text": "Use a here-document to write multiple lines to a file."
            },
            {
              "level": 2,
              "text": "Syntax: cat <<EOF >> file.txt then type lines, then EOF on new line"
            },
            {
              "level": 3,
              "text": "Type: cat <<EOF >> temp_exfil/exfil_log.txt then add lines then type EOF"
            }
          ],
          "outputPattern": "Mission Success|USER=",
          "outputCheck": "fileContains",
          "outputCheckParams": {
            "path": "/home/student/temp_exfil/exfil_log.txt",
            "text": [
              "Mission Success",
              "USER="
            ]
          }
        }
      ],
      "onComplete": "✅ Mission 13 Complete! Report finalized! Agent Kira: 'Perfect documentation. Now use nano to add your signature.'"
    },
    {
      "id": "mission_14",
      "title": "ACT VII - Mission 14: Edit with Nano",
      "act": 7,
      "actTitle": "Finalize Report",
      "story": "Agent Kira: 'Fine-tune the log file with the nano editor. Add your operative signature at the end.'",
      "tasks": [
        {
          "id": "task_14_1",
          "description": "Open exfil_log.txt in nano, add signature line, save and exit",
          "hints": [
            {
              "level": 1,
              "text": "Use nano to edit the file. Add a line like '- Operative GHOST' at the end."
            },
            {
              "level": 2,
              "text": "In nano: Ctrl+O to save, Ctrl+X to exit."
            },
            {
              "level": 3,
              "text": "Type: nano temp_exfil/exfil_log.txt"
            }
          ],
          "outputPattern": "nano.*exfil_log",
          "outputCheck": "fileExists",
          "outputCheckParams": {
            "path": "/home/student/temp_exfil/exfil_log.txt"
          }
        }
      ],
      "onComplete": "✅ Mission 14 Complete! Document signed! Agent Kira: 'Professional work. Now clean up your workspace - cover your tracks.'"
    },
    {
      "id": "mission_15",
      "title": "ACT VIII - Mission 15: Clean the Workspace",
      "act": 8,
      "actTitle": "Cleanup & Evasion",
      "story": "Agent Kira: 'Remove temporary traces to reduce detection risk. A clean operative leaves no footprints.'",
      "tasks": [
        {
          "id": "task_15_1",
          "description": "Remove temp_exfil directory and all contents (use rm -r, confirm when prompted)",
          "hints": [
            {
              "level": 1,
              "text": "Use rm -r to remove a directory and all its contents. You'll get a confirmation prompt."
            },
            {
              "level": 2,
              "text": "The -r flag means recursive (removes directories)."
            },
            {
              "level": 3,
              "text": "Type: rm -r temp_exfil && ls"
            }
          ],
          "outputPattern": "(?!.*temp_exfil)|removed|deleted",
          "outputCheck": "fileDeleted",
          "outputCheckParams": "/home/student/temp_exfil"
        }
      ],
      "onComplete": "✅ Mission 15 Complete! Workspace cleaned! Agent Kira: 'Good. Now verify the remote transfer and local cleanup.'"
    },
    {
      "id": "mission_16",
      "title": "ACT VIII - Mission 16: Final Confirmation",
      "act": 8,
      "actTitle": "Cleanup & Evasion",
      "story": "Agent Kira: 'Final check. Confirm that the remote server has your evidence and that you've left no local traces. This is the moment of truth.'",
      "tasks": [
        {
          "id": "task_16_1",
          "description": "SSH to remote and verify exfil_log.txt exists in /home/omega/incoming",
          "hints": [
            {
              "level": 1,
              "text": "Connect via SSH and list the incoming directory on the remote server."
            },
            {
              "level": 2,
              "text": "First: ssh omega_agent@remote-server then: ls /home/omega/incoming"
            },
            {
              "level": 3,
              "text": "Type: ssh omega_agent@remote-server (then in remote shell: ls /home/omega/incoming)"
            }
          ],
          "outputPattern": "exfil_log\\.txt",
          "outputCheck": "remoteFileExists",
          "outputCheckParams": {
            "user": "omega_agent",
            "path": "/home/omega/incoming/exfil_log.txt"
          }
        },
        {
          "id": "task_16_2",
          "description": "Exit SSH and verify local workspace is clean (ls should not show temp_exfil)",
          "hints": [
            {
              "level": 1,
              "text": "Type 'exit' to leave the SSH session, then list your home directory."
            },
            {
              "level": 2,
              "text": "Verify temp_exfil is gone and only original files remain."
            },
            {
              "level": 3,
              "text": "Type: exit (then: cd ~ && ls -la)"
            }
          ],
          "outputPattern": "(?!.*temp_exfil)",
          "outputCheck": "fileDeleted",
          "outputCheckParams": "/home/student/temp_exfil"
        }
      ],
      "onComplete": "🎉 OPERATION COMPLETE! All missions accomplished! Agent Kira: 'Flawless execution, Ghost. Welcome to Orion.'"
    }
  ]
}